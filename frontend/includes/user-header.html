<header class="user-header">
    <div class="logo-container">
        <img src="../../assets/logo.png" alt="WaterBill NG">
        <h1>WaterBill NG</h1>
    </div>
    
    <button class="hamburger" id="menu-btn">
        <i class="fas fa-bars"></i>
    </button>
    
    <nav>
        <a href="../user/dashboard.html"><i class="fas fa-tachometer-alt"></i> Dashboard</a>
        <a href="../user/payment.html"><i class="fas fa-credit-card"></i> Payments</a>
        <a href="../user/history.html"><i class="fas fa-history"></i> History</a>
        <a href="../user/profile.html"><i class="fas fa-user"></i> Profile</a>
        <a href="#" onclick="logout()" style="color: #ff6b6b;"><i class="fas fa-sign-out-alt"></i> Logout</a>
    </nav>
</header>

<!-- Sidebar -->
<div class="sidebar" id="sidebar">
    <a href="../user/dashboard.html"><i class="fas fa-tachometer-alt"></i> Dashboard</a>
    <a href="../user/payment.html"><i class="fas fa-credit-card"></i> Make Payment</a>
    <a href="../user/history.html"><i class="fas fa-history"></i> Payment History</a>
    <a href="../user/report-fault.html"><i class="fas fa-exclamation-triangle"></i> Report Fault</a>
    <a href="../user/profile.html"><i class="fas fa-user"></i> Profile</a>
    <a href="#" onclick="logout()"><i class="fas fa-sign-out-alt"></i> Logout</a>
</div>

<div class="overlay" id="overlay"></div>

<script>
// Setup sidebar toggle
function setupSidebar() {
    const menuBtn = document.getElementById('menu-btn');
    const sidebar = document.getElementById('sidebar');
    const overlay = document.getElementById('overlay');
    
    if (menuBtn && sidebar && overlay) {
        menuBtn.addEventListener('click', () => {
            sidebar.classList.toggle('active');
            overlay.style.display = sidebar.classList.contains('active') ? 'block' : 'none';
        });
        
        overlay.addEventListener('click', () => {
            sidebar.classList.remove('active');
            overlay.style.display = 'none';
        });
    }
}

// Logout function
async function logout() {
    try {
        const response = await fetch('../../api/auth/logout.php', {
            method: 'POST',
            credentials: 'include'
        });
        
        if (response.ok) {
            window.location.href = '../auth/login.html';
        } else {
            console.error('Logout failed');
            window.location.href = '../auth/login.html';
        }
    } catch (error) {
        console.error('Error during logout:', error);
        window.location.href = '../auth/login.html';
    }
}

// Initialize sidebar when document is ready
document.addEventListener('DOMContentLoaded', setupSidebar);
</script>
